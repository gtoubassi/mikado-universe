<html>

<head>
    <script src="mikado.js"></script>
</head>

<body>

<canvas id="mikado-canvas" width="400" height="400">
    You need a modern browser
</canvas>

<br/>
<br/>
<button onclick="step();">Step</button>
<button onclick="start();">Start</button>
<button onclick="stop();">Stop</button>

<br/>
Step: <span id="stepCount">0</span>
<br/>
Average Distance: <span id="distance">0</span>

<script>
    var universe = new Universe();
    var stepCountElement = document.getElementById('stepCount');
    var distanceElement = document.getElementById('distance');
    distanceElement.innerHTML = universe.averageDistance();
    var canvas = document.getElementById('mikado-canvas');
    draw();

    function draw() {
        var context = canvas.getContext('2d');
        context.save();
        context.scale(400, 400);
        universe.draw(context);
        context.restore();
    }

    function step() {
        for (var i = 0; i < 100; i++) {
            universe.simulateStep();
        }
        draw();
        stepCountElement.innerHTML = universe.stepCount;
        distanceElement.innerHTML = universe.averageDistance();
    }

    var interval = null;
    function start() {
        interval = window.setInterval(step, 10);
    }

    function stop() {
        if (interval) {
            window.clearInterval(interval);
            interval = null;
        }
    }

</script>


</body>

</html>
